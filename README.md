# 公司内部系统方案书

## 一、项目背景

公司开发一款系统，旨在增强数据安全性。该系统将通过网页程序进行部署，便于员工随时随地访问。

本系统预计由**12人**使用，用户权限分为以下三种角色：
- **超级管理员**（1人）：拥有最高权限，能够查看所有操作记录，管理其他用户账号（包括添加、修改、删除用户）及系统配置。  
- **管理员**（若干人）：能够查看和修改所有数据，但无法查看操作记录，也无法管理其他用户账号。  
- **一般用户**（若干人）：只能提交表单数据，并查看自己提交过的数据，不能修改数据或查看其他用户的数据。

系统将根据不同角色的权限进行功能控制，确保数据的安全性和操作的合规性。

## 二、技术架构

### 1. 系统总体架构

系统推荐采用前后端分离架构，前端使用**ASP.NET**开发，后端使用**SQL Server**数据库。

### 2. 前端开发：ASP.NET的优点
<details><summary>可展开</summary>
  
**ASP.NET**是微软公司推出的Web开发框架，具有以下优点：

| 特性              | 详细说明                                                                                       |
|-------------------|------------------------------------------------------------------------------------------------|
| **高性能**        | ASP.NET Core具有高度优化的性能，支持跨平台开发，能够在Linux、macOS以及Windows上运行，处理速度极快。 |
| **安全性强**      | ASP.NET提供了丰富的安全功能，内建身份验证、授权、抗CSRF、防止SQL注入等安全措施，确保应用的安全性。    |
| **集成Microsoft生态** | 与微软的其它技术如SQL Server、Azure、Active Directory等有良好的集成，能够更方便地与公司已有的技术栈结合。 |
| **开发效率高**    | 提供了丰富的开发工具（如Visual Studio），以及内建的模板、类库和组件，可以快速实现企业级应用开发。     |
| **可扩展性**      | 支持模块化和插件式开发，便于后期扩展，适合复杂的大型系统开发。                                   |
| **强大的支持社区**| 拥有广泛的开发者社区和微软官方的支持，解决方案和教程丰富，能加快开发进程，减少技术难题。            |

使用ASP.NET开发前端能够充分利用其安全性、性能和易于与其他微软技术栈集成的优势，适合企业级管理系统的开发。

</details>

### 3. SQL Server 优势

<details><summary>可展开</summary>
  
在本项目中，选择**SQL Server**作为主要数据库系统，主要基于以下几个优点：

| 特性              | SQL Server                                |
|-------------------|------------------------------------------|
| **性能**          | 高性能，尤其适合处理大量事务和复杂查询   |
| **安全性**        | 内建强大的安全机制，支持数据加密、审计、身份验证和授权管理 |
| **可扩展性**      | 提供高度可扩展的架构，支持横向扩展和大规模数据处理 |
| **高可用性**      | 提供内建的高可用性和灾难恢复机制，如SQL Server Always On |
| **集成性**        | 与Microsoft生态系统（如Windows Server, Active Directory）完美集成 |
| **事务处理**      | 支持ACID事务，强一致性，确保数据操作的可靠性 |
| **易用性**        | 提供丰富的图形化管理工具，如SQL Server Management Studio (SSMS)，易于维护和监控 |

SQL Server对于处理需要高事务性、严格数据一致性的应用场景非常适合。由于公司现有的技术栈可能包括Windows Server和其它微软技术，SQL Server也能带来更好的集成性和系统协同。

</details>

## 三、系统安全性

在系统安全性方面，考虑到数据的敏感性及潜在的黑客攻击，系统设计了以下安全措施：

### 1. 用户认证与授权

- **用户身份验证**：系统采用**OAuth 2.0**或**JWT**（JSON Web Token）标准进行用户认证。所有用户在首次登录时需要通过用户名/密码的组合进行验证。系统将会在登录时生成一个加密的会话令牌（Session Token），用户每次请求都需要携带该令牌进行身份验证。
  
- **角色权限控制**：通过**基于角色的访问控制（RBAC）**机制，管理员、超级管理员和普通用户具有不同的权限。超级管理员可管理所有用户和数据，管理员具有对数据的管理权限，一般用户仅能查看和提交自己的数据。

### 2. Session Key和机器绑定

为进一步增强安全性，系统将在用户登录时结合用户的**Session Key**与其**登录设备（机器）**进行绑定：

- **Session Key绑定设备**：每个用户的Session Key将与登录时的设备信息（如IP地址、设备指纹、机器码等）进行绑定，确保只有特定设备可以使用该Session Key进行连接。这一机制可以有效防止跨设备盗用账户的风险。
  
- **设备绑定**：用户登录时，系统记录该用户当前使用的设备信息（如设备唯一标识符或浏览器指纹）。如果该用户尝试从其他设备访问系统：直接阻止访问或要求进行额外验证（如短信验证码、二次认证等）。

### 3. 紧急情况的数据库保护

为了防止黑客攻击导致数据库被篡改或泄露，我们设定了以下几种应急措施：

#### （1）数据库快速销毁机制

- 在出现重大安全漏洞或被发现黑客攻击时，**超级管理员**能够通过系统触发“数据库销毁”操作。此操作会迅速将数据库中的敏感数据删除，以防数据泄露。
  
- 销毁后的数据将无法恢复，系统会执行完全清空操作，避免黑客窃取有价值的信息。

#### （2）虚假账户和假数据库

- 为了保护核心数据库的安全，我们将设计一个“**假账户/假数据库**”机制。通过故意设计一个看似真实的数据库并向其投入虚假的数据，黑客若试图攻击或窃取数据时，可能会误入这个假数据库，从而将攻击引向“假目标”。
  
- **假账户**是模拟真实用户账户的一组数据，并不会实际影响业务流程。系统会定期向“假数据库”提供虚假数据，确保黑客攻击时不会获取真实的企业数据。

- 当检测到不正常访问时，系统会触发安全机制，将攻击引导至假数据库，以迷惑攻击者。

#### （3）实时安全监控与报警（在云服务器上更容易实现）

- 系统将部署**实时安全监控**，监测异常行为和可疑活动，自动检测是否有异常登录、数据篡改等行为。
  
- 一旦检测到黑客攻击或异常活动，系统会立刻触发报警，并通知超级管理员进行应急响应。

### 4. 数据备份
  
- **备份与恢复**：系统将定期进行数据备份，在紧急情况下提供数据恢复机制。

## 四、服务器选型：物理服务器 vs 云端服务器

### （1）物理服务器

| 特性              | 物理服务器                                        |
|-------------------|--------------------------------------------------|
| **初期成本**      | 高（需要购买硬件设备）                           |
| **维护成本**      | 高（需要定期硬件维护和管理）                     |
| **扩展性**        | 较差（需要额外购置硬件设备来扩展）                 |
| **性能**          | 高（不受外部环境影响，可以实现高性能配置）       |
| **数据控制**      | 完全控制（完全掌控硬件和数据管理）                 |
| **安全性**        | 高（可以通过物理安全措施如机房隔离保障安全）       |
| **管理便利性**    | 一般（需要专业人员进行管理和维护）                 |

### （2）云端服务器

| 特性              | 云端服务器                                        |
|-------------------|--------------------------------------------------|
| **初期成本**      | 较低（按需付费，无需购买硬件设备）                 |
| **维护成本**      | 较低（云服务商负责硬件维护和管理）                 |
| **扩展性**        | 高（可以根据需求灵活扩展计算和存储资源）           |
| **性能**          | 灵活（可根据需求选择不同规格的实例，但可能受限于云平台资源） |
| **数据控制**      | 较低（数据存储在云平台，受限于服务商政策）         |
| **安全性**        | 高（大多数云服务商提供强大的安全性和加密机制）     |
| **管理便利性**    | 高（可以通过管理控制台快速调整和监控资源）         |


### 选择建议

- **物理服务器**适用于需要对硬件和数据有完全控制的场景。如果对数据隐私和安全要求极高，且有足够的技术团队进行管理，可以考虑使用物理服务器。
  
- **云端服务器**适用于需要灵活扩展资源、降低初期投资、简化运维管理的场景。云平台提供高可用性和强大的安全机制，对于大多数企业来说，使用云端服务器是更合适的选择。

## 五、总结与建议

此公司内部系统的设计和技术方案从安全性、性能和扩展性等进行了考虑。在数据库方面，选择**SQL Server**作为主力数据库系统。前端采用**ASP.NET**开发，结合其性能和安全性优势，将确保系统在高负载下的稳定性和数据的保密性。

关于服务器选型，考虑到**灵活性、成本**和**运维管理**等多方面因素，个人建议优先选择**云端服务器**。其按需付费和自动扩展的特点，能够更好地支持系统的发展和变化。如果未来需要对数据和硬件进行更严格的控制，以及有专门团队进行维护和管理，再考虑物理服务器的选型。

在系统安全性方面，结合Session Key绑定、设备认证、虚假数据库（Honey Pool）机制等手段，能够有效保护系统免受黑客攻击。在紧急情况下，通过快速销毁数据库，确保企业数据的安全性。

> 在实施此方案时，关注安全性和可扩展性，定期进行系统安全审计和性能优化，以适应未来业务的发展需求。
