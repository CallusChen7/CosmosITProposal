# 公司內部系統方案書

## 一、項目背景

公司開發一款系統，旨在增強數據安全性。該系統將通過網頁程序進行部署，便於員工隨時隨地訪問。

本系統預計由**12人**使用，用戶權限分為以下三種角色：
- **超級管理員**（1人）：擁有最高權限，能夠查看所有操作記錄，管理其他用戶賬號（包括添加、修改、刪除用戶）及系統配置。  
- **管理員**（若干人）：能夠查看和修改所有數據，但無法查看操作記錄，也無法管理其他用戶賬號。  
- **一般用戶**（若干人）：只能提交表單數據，並查看自己提交過的數據，不能修改數據或查看其他用戶的數據。

系統將根據不同角色的權限進行功能控制，確保數據的安全性和操作的合規性。

## 二、技術架構

### 1. 系統總體架構

系統推薦採用前後端分離架構，前端使用**ASP.NET**開發，後端使用**SQL Server**數據庫。

### 2. 前端開發：ASP.NET的優點
<details><summary>可展開</summary>
  
**ASP.NET**是微軟公司推出的Web開發框架，具有以下優點：

| 特性              | 詳細說明                                                                                       |
|-------------------|------------------------------------------------------------------------------------------------|
| **高性能**        | ASP.NET Core具有高度優化的性能，支持跨平台開發，能夠在Linux、macOS以及Windows上運行，處理速度極快。 |
| **安全性強**      | ASP.NET提供了豐富的安全功能，內建身份驗證、授權、抗CSRF、防止SQL注入等安全措施，確保應用的安全性。    |
| **集成Microsoft生態** | 與微軟的其它技術如SQL Server、Azure、Active Directory等有良好的集成，能夠更方便地與公司已有的技術棧結合。 |
| **開發效率高**    | 提供了豐富的開發工具（如Visual Studio），以及內建的模板、類庫和組件，可以快速實現企業級應用開發。     |
| **可擴展性**      | 支持模塊化和插件式開發，便於後期擴展，適合複雜的大型系統開發。                                   |
| **強大的支持社區**| 擁有廣泛的開發者社區和微軟官方的支持，解決方案和教程豐富，能加快開發進程，減少技術難題。            |

使用ASP.NET開發前端能夠充分利用其安全性、性能和易於與其他微軟技術棧集成的優勢，適合企業級管理系統的開發。

</details>

### 3. SQL Server 優勢

<details><summary>可展開</summary>
  
在本項目中，選擇**SQL Server**作為主要數據庫系統，主要基於以下幾個優點：

| 特性              | SQL Server                                |
|-------------------|------------------------------------------|
| **性能**          | 高性能，尤其適合處理大量事務和複雜查詢   |
| **安全性**        | 內建強大的安全機制，支持數據加密、審計、身份驗證和授權管理 |
| **可擴展性**      | 提供高度可擴展的架構，支持橫向擴展和大規模數據處理 |
| **高可用性**      | 提供內建的高可用性和災難恢復機制，如SQL Server Always On |
| **集成性**        | 與Microsoft生態系統（如Windows Server, Active Directory）完美集成 |
| **事務處理**      | 支持ACID事務，強一致性，確保數據操作的可靠性 |
| **易用性**        | 提供豐富的圖形化管理工具，如SQL Server Management Studio (SSMS)，易於維護和監控 |

SQL Server對於處理需要高事務性、嚴格數據一致性的應用場景非常適合。由於公司現有的技術棧可能包括Windows Server和其它微軟技術，SQL Server也能帶來更好的集成性和系統協同。

</details>

## 三、系統安全性

在系統安全性方面，考慮到數據的敏感性及潛在的黑客攻擊，系統設計了以下安全措施：

### 1. 用戶認證與授權

- **用戶身份驗證**：系統採用**OAuth 2.0**或**JWT**（JSON Web Token）標準進行用戶認證。所有用戶在首次登錄時需要通過用戶名/密碼的組合進行驗證。系統將會在登錄時生成一個加密的會話令牌（Session Token），用戶每次請求都需要攜帶該令牌進行身份驗證。
  
- **角色權限控制**：通過**基於角色的訪問控制（RBAC）**機制，管理員、超級管理員和普通用戶具有不同的權限。超級管理員可管理所有用戶和數據，管理員具有對數據的管理權限，一般用戶僅能查看和提交自己的數據。

### 2. Session Key和機器綁定

為進一步增強安全性，系統將在用戶登錄時結合用戶的**Session Key**與其**登錄設備（機器）**進行綁定：

- **Session Key綁定設備**：每個用戶的Session Key將與登錄時的設備信息（如IP地址、設備指紋、機器碼等）進行綁定，確保只有特定設備可以使用該Session Key進行連接。這一機制可以有效防止跨設備盜用賬戶的風險。
  
- **設備綁定**：用戶登錄時，系統記錄該用戶當前使用的設備信息（如設備唯一標識符或瀏覽器指紋）。如果該用戶嘗試從其他設備訪問系統：直接阻止訪問或要求進行額外驗證（如短信驗證碼、二次認證等）。

### 3. 緊急情況的數據庫保護

為了防止黑客攻擊導致數據庫被篡改或泄露，我們設定了以下幾種應急措施：

#### （1）數據庫快速銷毀機制

- 在出現重大安全漏洞或被發現黑客攻擊時，**超級管理員**能夠通過系統觸發「數據庫銷毀」操作。此操作會迅速將數據庫中的敏感數據刪除，以防數據泄露。
  
- 銷毀後的數據將無法恢復，系統會執行完全清空操作，避免黑客竊取有價值的信息。

#### （2）虛假賬戶和假數據庫

- 為了保護核心數據庫的安全，我們將設計一個「**假賬戶/假數據庫**」機制。通過故意設計一個看似真實的數據庫並向其投入虛假的數據，黑客若試圖攻擊或竊取數據時，可能會誤入這個假數據庫，從而將攻擊引向「假目標」。
  
- **假賬戶**是模擬真實用戶賬戶的一組數據，並不會實際影響業務流程。系統會定期向「假數據庫」提供虛假數據，確保黑客攻擊時不會獲取真實的企業數據。

- 當檢測到不正常訪問時，系統會觸發安全機制，將攻擊引導至假數據庫，以迷惑攻擊者。

#### （3）實時安全監控與報警（在雲服務器上更容易實現）

- 系統將部署**實時安全監控**，監測異常行為和可疑活動，自動檢測是否有異常登錄、數據篡改等行為。
  
- 一旦檢測到黑客攻擊或異常活動，系統會立刻觸發報警，並通知超級管理員進行應急響應。

### 4. 數據備份
  
- **備份與恢復**：系統將定期進行數據備份，在緊急情況下提供數據恢復機制。

## 四、服務器選型：物理服務器 vs 雲端服務器

### （1）物理服務器

| 特性              | 物理服務器                                        |
|-------------------|--------------------------------------------------|
| **初期成本**      | 高（需要購買硬件設備）                           |
| **維護成本**      | 高（需要定期硬件維護和管理）                     |
| **擴展性**        | 較差（需要額外購置硬件設備來擴展）                 |
| **性能**          | 高（不受外部環境影響，可以實現高性能配置）       |
| **數據控制**      | 完全控制（完全掌控硬件和數據管理）                 |
| **安全性**        | 高（可以通過物理安全措施如機房隔離保障安全）       |
| **管理便利性**    | 一般（需要專業人員進行管理和維護）                 |

### （2）雲端服務器

| 特性              | 雲端服務器                                        |
|-------------------|--------------------------------------------------|
| **初期成本**      | 較低（按需付費，無需購買硬件設備）                 |
| **維護成本**      | 較低（雲服務商負責硬件維護和管理）                 |
| **擴展性**        | 高（可以根據需求靈活擴展計算和存儲資源）           |
| **性能**          | 靈活（可根據需求選擇不同規格的實例，但可能受限於雲平台資源） |
| **數據控制**      | 較低（數據存儲在雲平台，受限於服務商政策）         |
| **安全性**        | 高（大多數雲服務商提供強大的安全性和加密機制）     |
| **管理便利性**    | 高（可以通過管理控制台快速調整和監控資源）         |


### 選擇建議

- **物理服務器**適用於需要對硬件和數據有完全控制的場景。如果對數據隱私和安全要求極高，且有足夠的技術團隊進行管理，可以考慮使用物理服務器。
  
- **雲端服務器**適用於需要靈活擴展資源、降低初期投資、簡化運維管理的場景。雲平台提供高可用性和強大的安全機制，對於大多數企業來說，使用雲端服務器是更合適的選擇。

## 五、總結與建議

此公司內部系統的設計和技術方案從安全性、性能和擴展性等進行了考慮。在數據庫方面，選擇**SQL Server**作為主力數據庫系統。前端採用**ASP.NET**開發，結合其性能和安全性優勢，將確保系統在高負載下的穩定性和數據的保密性。

關於服務器選型，考慮到**靈活性、成本**和**運維管理**等多方面因素，個人建議優先選擇**雲端服務器**。其按需付費和自動擴展的特點，能夠更好地支持系統的發展和變化。如果未來需要對數據和硬件進行更嚴格的控制，以及有專門團隊進行維護和管理，再考慮物理服務器的選型。

在系統安全性方面，結合Session Key綁定、設備認證、虛假數據庫（Honey Pool）機制等手段，能夠有效保護系統免受黑客攻擊。在緊急情況下，通過快速銷毀數據庫，確保企業數據的安全性。

> 在實施此方案時，關注安全性和可擴展性，定期進行系統安全審計和性能優化，以適應未來業務的發展需求。

---

# 公司内部系统方案书

## 一、项目背景

公司开发一款系统，旨在增强数据安全性。该系统将通过网页程序进行部署，便于员工随时随地访问。

本系统预计由**12人**使用，用户权限分为以下三种角色：
- **超级管理员**（1人）：拥有最高权限，能够查看所有操作记录，管理其他用户账号（包括添加、修改、删除用户）及系统配置。  
- **管理员**（若干人）：能够查看和修改所有数据，但无法查看操作记录，也无法管理其他用户账号。  
- **一般用户**（若干人）：只能提交表单数据，并查看自己提交过的数据，不能修改数据或查看其他用户的数据。

系统将根据不同角色的权限进行功能控制，确保数据的安全性和操作的合规性。

## 二、技术架构

### 1. 系统总体架构

系统推荐采用前后端分离架构，前端使用**ASP.NET**开发，后端使用**SQL Server**数据库。

### 2. 前端开发：ASP.NET的优点
<details><summary>可展开</summary>
  
**ASP.NET**是微软公司推出的Web开发框架，具有以下优点：

| 特性              | 详细说明                                                                                       |
|-------------------|------------------------------------------------------------------------------------------------|
| **高性能**        | ASP.NET Core具有高度优化的性能，支持跨平台开发，能够在Linux、macOS以及Windows上运行，处理速度极快。 |
| **安全性强**      | ASP.NET提供了丰富的安全功能，内建身份验证、授权、抗CSRF、防止SQL注入等安全措施，确保应用的安全性。    |
| **集成Microsoft生态** | 与微软的其它技术如SQL Server、Azure、Active Directory等有良好的集成，能够更方便地与公司已有的技术栈结合。 |
| **开发效率高**    | 提供了丰富的开发工具（如Visual Studio），以及内建的模板、类库和组件，可以快速实现企业级应用开发。     |
| **可扩展性**      | 支持模块化和插件式开发，便于后期扩展，适合复杂的大型系统开发。                                   |
| **强大的支持社区**| 拥有广泛的开发者社区和微软官方的支持，解决方案和教程丰富，能加快开发进程，减少技术难题。            |

使用ASP.NET开发前端能够充分利用其安全性、性能和易于与其他微软技术栈集成的优势，适合企业级管理系统的开发。

</details>

### 3. SQL Server 优势

<details><summary>可展开</summary>
  
在本项目中，选择**SQL Server**作为主要数据库系统，主要基于以下几个优点：

| 特性              | SQL Server                                |
|-------------------|------------------------------------------|
| **性能**          | 高性能，尤其适合处理大量事务和复杂查询   |
| **安全性**        | 内建强大的安全机制，支持数据加密、审计、身份验证和授权管理 |
| **可扩展性**      | 提供高度可扩展的架构，支持横向扩展和大规模数据处理 |
| **高可用性**      | 提供内建的高可用性和灾难恢复机制，如SQL Server Always On |
| **集成性**        | 与Microsoft生态系统（如Windows Server, Active Directory）完美集成 |
| **事务处理**      | 支持ACID事务，强一致性，确保数据操作的可靠性 |
| **易用性**        | 提供丰富的图形化管理工具，如SQL Server Management Studio (SSMS)，易于维护和监控 |

SQL Server对于处理需要高事务性、严格数据一致性的应用场景非常适合。由于公司现有的技术栈可能包括Windows Server和其它微软技术，SQL Server也能带来更好的集成性和系统协同。

</details>

## 三、系统安全性

在系统安全性方面，考虑到数据的敏感性及潜在的黑客攻击，系统设计了以下安全措施：

### 1. 用户认证与授权

- **用户身份验证**：系统采用**OAuth 2.0**或**JWT**（JSON Web Token）标准进行用户认证。所有用户在首次登录时需要通过用户名/密码的组合进行验证。系统将会在登录时生成一个加密的会话令牌（Session Token），用户每次请求都需要携带该令牌进行身份验证。
  
- **角色权限控制**：通过**基于角色的访问控制（RBAC）**机制，管理员、超级管理员和普通用户具有不同的权限。超级管理员可管理所有用户和数据，管理员具有对数据的管理权限，一般用户仅能查看和提交自己的数据。

### 2. Session Key和机器绑定

为进一步增强安全性，系统将在用户登录时结合用户的**Session Key**与其**登录设备（机器）**进行绑定：

- **Session Key绑定设备**：每个用户的Session Key将与登录时的设备信息（如IP地址、设备指纹、机器码等）进行绑定，确保只有特定设备可以使用该Session Key进行连接。这一机制可以有效防止跨设备盗用账户的风险。
  
- **设备绑定**：用户登录时，系统记录该用户当前使用的设备信息（如设备唯一标识符或浏览器指纹）。如果该用户尝试从其他设备访问系统：直接阻止访问或要求进行额外验证（如短信验证码、二次认证等）。

### 3. 紧急情况的数据库保护

为了防止黑客攻击导致数据库被篡改或泄露，我们设定了以下几种应急措施：

#### （1）数据库快速销毁机制

- 在出现重大安全漏洞或被发现黑客攻击时，**超级管理员**能够通过系统触发“数据库销毁”操作。此操作会迅速将数据库中的敏感数据删除，以防数据泄露。
  
- 销毁后的数据将无法恢复，系统会执行完全清空操作，避免黑客窃取有价值的信息。

#### （2）虚假账户和假数据库

- 为了保护核心数据库的安全，我们将设计一个“**假账户/假数据库**”机制。通过故意设计一个看似真实的数据库并向其投入虚假的数据，黑客若试图攻击或窃取数据时，可能会误入这个假数据库，从而将攻击引向“假目标”。
  
- **假账户**是模拟真实用户账户的一组数据，并不会实际影响业务流程。系统会定期向“假数据库”提供虚假数据，确保黑客攻击时不会获取真实的企业数据。

- 当检测到不正常访问时，系统会触发安全机制，将攻击引导至假数据库，以迷惑攻击者。

#### （3）实时安全监控与报警（在云服务器上更容易实现）

- 系统将部署**实时安全监控**，监测异常行为和可疑活动，自动检测是否有异常登录、数据篡改等行为。
  
- 一旦检测到黑客攻击或异常活动，系统会立刻触发报警，并通知超级管理员进行应急响应。

### 4. 数据备份
  
- **备份与恢复**：系统将定期进行数据备份，在紧急情况下提供数据恢复机制。

## 四、服务器选型：物理服务器 vs 云端服务器

### （1）物理服务器

| 特性              | 物理服务器                                        |
|-------------------|--------------------------------------------------|
| **初期成本**      | 高（需要购买硬件设备）                           |
| **维护成本**      | 高（需要定期硬件维护和管理）                     |
| **扩展性**        | 较差（需要额外购置硬件设备来扩展）                 |
| **性能**          | 高（不受外部环境影响，可以实现高性能配置）       |
| **数据控制**      | 完全控制（完全掌控硬件和数据管理）                 |
| **安全性**        | 高（可以通过物理安全措施如机房隔离保障安全）       |
| **管理便利性**    | 一般（需要专业人员进行管理和维护）                 |

### （2）云端服务器

| 特性              | 云端服务器                                        |
|-------------------|--------------------------------------------------|
| **初期成本**      | 较低（按需付费，无需购买硬件设备）                 |
| **维护成本**      | 较低（云服务商负责硬件维护和管理）                 |
| **扩展性**        | 高（可以根据需求灵活扩展计算和存储资源）           |
| **性能**          | 灵活（可根据需求选择不同规格的实例，但可能受限于云平台资源） |
| **数据控制**      | 较低（数据存储在云平台，受限于服务商政策）         |
| **安全性**        | 高（大多数云服务商提供强大的安全性和加密机制）     |
| **管理便利性**    | 高（可以通过管理控制台快速调整和监控资源）         |


### 选择建议

- **物理服务器**适用于需要对硬件和数据有完全控制的场景。如果对数据隐私和安全要求极高，且有足够的技术团队进行管理，可以考虑使用物理服务器。
  
- **云端服务器**适用于需要灵活扩展资源、降低初期投资、简化运维管理的场景。云平台提供高可用性和强大的安全机制，对于大多数企业来说，使用云端服务器是更合适的选择。

## 五、总结与建议

此公司内部系统的设计和技术方案从安全性、性能和扩展性等进行了考虑。在数据库方面，选择**SQL Server**作为主力数据库系统。前端采用**ASP.NET**开发，结合其性能和安全性优势，将确保系统在高负载下的稳定性和数据的保密性。

关于服务器选型，考虑到**灵活性、成本**和**运维管理**等多方面因素，个人建议优先选择**云端服务器**。其按需付费和自动扩展的特点，能够更好地支持系统的发展和变化。如果未来需要对数据和硬件进行更严格的控制，以及有专门团队进行维护和管理，再考虑物理服务器的选型。

在系统安全性方面，结合Session Key绑定、设备认证、虚假数据库（Honey Pool）机制等手段，能够有效保护系统免受黑客攻击。在紧急情况下，通过快速销毁数据库，确保企业数据的安全性。

> 在实施此方案时，关注安全性和可扩展性，定期进行系统安全审计和性能优化，以适应未来业务的发展需求。
